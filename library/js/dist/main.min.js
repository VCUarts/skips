function updateViewportDimensions(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||i.clientWidth,height:e.innerHeight||n.clientHeight||i.clientHeight}}function loadGravatars(){(viewport=updateViewportDimensions()).width>=768&&jQuery(".comment img[data-gravatar]").each(function(){jQuery(this).attr("src",jQuery(this).attr("data-gravatar"))})}!function(e,t,n,i){e.fn.extend({scrollspy:function(n){var i={min:0,max:0,mode:"vertical",namespace:"scrollspy",buffer:0,container:t,onEnter:n.onEnter?n.onEnter:[],onLeave:n.onLeave?n.onLeave:[],onTick:n.onTick?n.onTick:[]},n=e.extend({},i,n);return this.each(function(t){var i=this,o=n,r=e(o.container),a=o.mode,s=o.buffer,l=leaves=0,c=!1;r.bind("scroll."+o.namespace,function(t){var n={top:e(this).scrollTop(),left:e(this).scrollLeft()},u="vertical"==a?n.top+s:n.left+s,f=o.max,d=o.min;e.isFunction(o.max)&&(f=o.max()),e.isFunction(o.min)&&(d=o.min()),0==f&&(f="vertical"==a?r.height():r.outerWidth()+e(i).outerWidth()),u>=d&&u<=f?(c||(c=!0,l++,e(i).trigger("scrollEnter",{position:n}),e.isFunction(o.onEnter)&&o.onEnter(i,n)),e(i).trigger("scrollTick",{position:n,inside:c,enters:l,leaves:leaves}),e.isFunction(o.onTick)&&o.onTick(i,n,c,l,leaves)):c&&(c=!1,leaves++,e(i).trigger("scrollLeave",{position:n,leaves:leaves}),e.isFunction(o.onLeave)&&o.onLeave(i,n))})})}})}(jQuery,window,document),window.jQuery||alert("The jQuery library must be included before the smoothscroll.js file.  The plugin will not work propery."),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,i){e(window).scrollTo(t,n,i)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this;if(!(!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])))return t;var n=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},e.fn.scrollTo=function(i,o,r){return"object"==typeof o&&(r=o,o=0),"function"==typeof r&&(r={onAfter:r}),"max"==i&&(i=9e9),r=e.extend({},n.defaults,r),o=o||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(o/=2),r.offset=t(r.offset),r.over=t(r.over),this._scrollable().each(function(){function a(e){c.animate(f,o,r.easing,e&&function(){e.call(this,i,r)})}if(null!=i){var s,l=this,c=e(l),u=i,f={},d=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(!(u=e(u,this)).length)return;case"object":(u.is||u.style)&&(s=(u=e(u)).offset())}e.each(r.axis.split(""),function(e,t){var i="x"==t?"Left":"Top",o=i.toLowerCase(),h="scroll"+i,m=l[h],v=n.max(l,t);if(s)f[h]=s[o]+(d?0:m-c.offset()[o]),r.margin&&(f[h]-=parseInt(u.css("margin"+i))||0,f[h]-=parseInt(u.css("border"+i+"Width"))||0),f[h]+=r.offset[o]||0,r.over[o]&&(f[h]+=u["x"==t?"width":"height"]()*r.over[o]);else{var p=u[o];f[h]=p.slice&&"%"==p.slice(-1)?parseFloat(p)/100*v:p}r.limit&&/^\d+$/.test(f[h])&&(f[h]=f[h]<=0?0:Math.min(f[h],v)),!e&&r.queue&&(m!=f[h]&&a(r.onAfterFirst),delete f[h])}),a(r.onAfter)}}).end()},n.max=function(t,n){var i="x"==n?"Width":"Height",o="scroll"+i;if(!e(t).is("html,body"))return t[o]-e(t)[i.toLowerCase()]();var r="client"+i,a=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(a[o],s[o])-Math.min(a[r],s[r])}}(jQuery),function(e){function t(t,n,i){var o=n.hash.slice(1),r=document.getElementById(o)||document.getElementsByName(o)[0];if(r){t&&t.preventDefault();var a=e(i.target);if(!(i.lock&&a.is(":animated")||i.onBefore&&!1===i.onBefore(t,r,a))){if(i.stop&&a._scrollable().stop(!0),i.hash){var t=r.id==o?"id":"name",s=e("<a> </a>").attr(t,o).css({position:"absolute",top:e(window).scrollTop(),left:e(window).scrollLeft()});r[t]="",e("body").prepend(s),location=n.hash,s.remove(),r[t]=o}a.scrollTo(r,i).trigger("notify.serialScroll",[r])}}}var n=location.href.replace(/#.*/,""),i=e.localScroll=function(t){e("body").localScroll(t)};i.defaults={duration:500,axis:"y",event:"click",stop:!0,target:window,reset:!0},i.hash=function(n){if(location.hash){if(n=e.extend({},i.defaults,n),n.hash=!1,n.reset){var o=n.duration;delete n.duration,e(n.target).scrollTo(0,n),n.duration=o}t(0,location,n)}},e.fn.localScroll=function(o){function r(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")==n&&(!o.filter||e(this).is(o.filter))}return(o=e.extend({},i.defaults,o)).lazy?this.bind(o.event,function(n){var i=e([n.target,n.target.parentNode]).filter(r)[0];i&&t(n,i,o)}):this.find("a,area").filter(r).bind(o.event,function(e){t(e,this,o)}).end().end()}}(jQuery);var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var e={};return function(t,n,i){i||(i="Don't call this twice without a uniqueId"),e[i]&&clearTimeout(e[i]),e[i]=setTimeout(t,n)}}(),timeToWaitForLast=100;jQuery(document).ready(function(e){function t(){e("article.page").each(function(t){var n=e(this).position();e(this).scrollspy({min:n.top-10,max:n.top-10+e(this).height(),onEnter:function(t,n){e(".page_item").each(function(t){e(this).removeClass("current")}),e("."+t.id).addClass("current")}})})}loadGravatars(),e(".show-nav").click(function(t){t.preventDefault(),e("body").toggleClass("active-mobile")}),jQuery(function(e){e.localScroll({filter:".smoothScroll"})}),t(),e(window).resize(function(){e(".page_item").each(function(t){e(this).removeClass("current")}),waitForFinalEvent(function(){t()},timeToWaitForLast,"setup that scrollspy again but not until we are done resizing that window")}),e(".children .page_item").on("click",function(){$this=e(this),e(".children .page_item").each(function(t){e(this).removeClass("current")}),$this.addClass("current")})});